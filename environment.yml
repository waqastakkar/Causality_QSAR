# PTP1B causal QSAR Conda environment (authoritative spec)
#
# Create (CPU baseline):
#   conda env create -f environment.yml
#   conda activate ptp1b-causal-qsar
#
# GPU install note (NVIDIA driver CUDA 12.4 detected on host):
# - Uncomment ONE pytorch-cuda line below in dependencies.
# - Preferred: pytorch-cuda=12.4 (if available in your channels)
# - Fallback: pytorch-cuda=12.1 (or 12.2), which is typically compatible with 12.4 drivers.
#
# Verify installation:
#   python -c "from rdkit import Chem; print('rdkit_ok', Chem.MolFromSmiles('CCO') is not None)"
#   python -c "import torch; print('torch', torch.__version__)"
#   python -c "import torch; print('cuda_available', torch.cuda.is_available())"

name: ptp1b-causal-qsar
channels:
  - pytorch
  - nvidia
  - conda-forge

dependencies:
  - python=3.10
  - numpy>=1.24
  - pandas>=2.1
  - scipy>=1.10
  - scikit-learn>=1.3
  - matplotlib>=3.7
  - tqdm>=4.66
  - pyyaml>=6.0
  - pyarrow>=14.0
  - joblib>=1.3
  - networkx>=3.1
  - psutil>=5.9
  - packaging>=23.2
  - click>=8.1
  - rich>=13.7
  - rdkit>=2023.09
  - pytorch>=2.1
  - torchvision>=0.16
  - torchaudio>=2.1

  # CPU-only variant (leave CUDA runtime commented out):
  # - cpuonly

  # GPU variant (uncomment one line):
  # - pytorch-cuda=12.4
  # - pytorch-cuda=12.1
  # - pytorch-cuda=12.2

  - pip
  - pip:
      - hydra-core>=1.3
      - omegaconf>=2.3
      - python-dotenv>=1.0
      - openpyxl>=3.1
      - xlsxwriter>=3.2
      - pytest>=8.0
      - black>=24.0
      - ruff>=0.3
      - wandb>=0.16  # optional experiment tracking
      - einops>=0.7  # optional utility for transformer-style modules
